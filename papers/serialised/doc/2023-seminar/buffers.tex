
\section{Programming with Buffers}

\begin{frame}{Serialisation Format}
\ExecuteMetaData[Serialised/Desc.idr.tex]{example}
\vfill
\begin{hexdump}%
87654321\hphantom{:} 00 11 22 33 44 55 66 77 88 99 AA BB CC DD EE FF
00000000: \hexaoffset{07 00 00 00 00 00 00 00} \hexadesc{02 00 02 03 02 01 03} \hexacons{01}
00000010: \hexaoffset{17 00 00 00 00 00 00 00} \hexacons{01} \hexaoffset{0c 00 00 00 00 00 00}
00000020: \hexaoffset{00} \hexacons{01} \hexaoffset{01 00 00 00 00 00 00 00} \hexacons{00} \hexadata{01} \hexacons{00} \hexadata{05} \hexacons{00} \hexadata{0a}
00000030: \hexacons{01} \hexaoffset{01 00 00 00 00 00 00 00} \hexacons{00} \hexadata{14} \hexacons{00}
\end{hexdump}
\end{frame}

\begin{frame}{Meaning as Pointers}
  \ExecuteMetaData[SaferIndexed.idr.tex]{elem}

  \ExecuteMetaData[SaferIndexed.idr.tex]{pointermu}
\end{frame}

\begin{frame}{Inspecting Buffers: Head Constructor}
  \ExecuteMetaData[SaferIndexed.idr.tex]{outdata}
  \ExecuteMetaData[SaferIndexed.idr.tex]{outfun}
\end{frame}

\begin{frame}{Inspecting Buffers: Extracting Head Data}
  \ExecuteMetaData[SaferIndexed.idr.tex]{pokedatafun}
  \ExecuteMetaData[SaferIndexed.idr.tex]{pokedatadata}
\end{frame}
\begin{frame}{Inspecting Buffers: Extracting Head Data (ct'd)}
  \ExecuteMetaData[SaferIndexed.idr.tex]{pokefun}
\end{frame}

\begin{frame}{A More Convenient View}
  \ExecuteMetaData[SaferIndexed.idr.tex]{viewdata}
  \ExecuteMetaData[SaferIndexed.idr.tex]{viewfun}
\end{frame}
