\begin{code}
%default total

namespace Data

  public export
\end{code}
%<*vect>
\begin{code}
  data Vect : Nat -> Type -> Type where
    Nil : Vect Z a
    (::) : a -> Vect n a -> Vect (S n) a
\end{code}
%</vect>
\begin{code}

  public export
\end{code}
%<*fin>
\begin{code}
  data Fin : Nat -> Type where
    Z : Fin (S n)
    S : Fin n -> Fin (S n)
\end{code}
%</fin>

\begin{code}
namespace Vect
\end{code}

%<*vectlookup>
\begin{code}
  lookup : Vect n a -> Fin n -> a
  lookup (x :: _) Z = x
  lookup (_ :: xs) (S k) = lookup xs k
\end{code}
%</vectlookup>

\begin{code}
namespace ErasedVect
\end{code}

%<*erasedvectlookup>
\begin{code}
  partial
  lookup : (n : Nat) -> List a -> Nat -> a
  lookup (S n) (x :: _) Z = x
  lookup (S n) (_ :: xs) (S k) = lookup n xs k
\end{code}
%</erasedvectlookup>

\begin{code}
namespace List
\end{code}

%<*finallookup>
\begin{code}
  partial
  lookup : List a -> Nat -> a
  lookup (x :: _) Z = x
  lookup (_ :: xs) (S k) = lookup xs k
\end{code}
%</finallookup>
