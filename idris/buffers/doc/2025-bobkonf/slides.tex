\PassOptionsToPackage{x11names}{xcolor}
\documentclass{beamer}

\beamertemplatenavigationsymbolsempty

\usepackage{bytefield}

% \usepackage{tikz}
% \usetikzlibrary{shapes.geometric}

% \usepackage{listings}

% \usepackage{idris2}
% \usepackage{catchfilebetweentags}
% \input{robust-catch}

% \newenvironment{hexdump}{\medskip\ttfamily\obeyspaces\obeylines\noindent}{\medskip}

\newcommand{\smiley}{\includegraphics[scale=.025]{assets/robot-smiley.png}}
\newcommand{\sweaty}{\includegraphics[scale=.025]{assets/robot-sweaty.png}}
\newcommand{\stress}{\includegraphics[scale=.025]{assets/robot-stress.png}}
\newcommand{\clowny}{\includegraphics[scale=.025]{assets/robot-clowny.png}}
\newcommand{\scream}{\includegraphics[scale=.025]{assets/robot-scream.png}}

\newcommand{\source}{\includegraphics[scale=.1]{assets/tree.png}}
\newcommand{\target}{\includegraphics[scale=.1]{assets/wood.png}}
\newcommand{\beyond}{\includegraphics[scale=.1]{assets/flute.png}}

\newcommand{\saw}{\includegraphics[scale=.1]{assets/saw.png}}


\title{Correct by Construction Concurrent Programs in Idris 2}
\author{Guillaume Allais}
\institute{University of Strathclyde \\ Glasgow, UK}
\date{2025}

\AtBeginSection[]
{
    \begin{frame}
        \frametitle{Table of Contents}
        \tableofcontents[currentsection]
    \end{frame}
}

\begin{document}

\begin{frame}
  \maketitle
\end{frame}

\section{Motivation}

\begin{frame}[fragile]{Sequential work}

One worker mapping the \saw{} transformation on a given array.

\bigskip

\begin{bytefield}[bitwidth=6mm, bitheight=8mm]{4}
 \\ \bitbox[]{1}{\alt<2>{\smiley}{}}
  & \bitbox[]{1}{\alt<3>{\smiley}{}}
  & \bitbox[]{1}{\alt<4>{\smiley}{}}
  & \bitbox[]{1}{\alt<5>{\smiley}{}}
  & \bitbox[]{1}{\alt<6>{\smiley}{}}
  & \bitbox[]{1}{\alt<7>{\smiley}{}}
  & \bitbox[]{1}{\alt<8>{\sweaty}{}}
  & \bitbox[]{1}{}
  & \bitbox[]{1}{}
  & \bitbox[]{1}{}
  & \bitbox[]{1}{}
  & \bitbox[]{1}{}
  & \bitbox[]{1}{}
  & \bitbox[]{1}{}
  & \bitbox[]{1}{}
  & \bitbox[]{1}{}
  & \bitbox[]{1}{}
  & \bitbox[]{1}{}

 \\ \bitbox[tbl]{1}{\alt<1>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-2>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-3>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-4>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-5>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-6>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-7>{\source}{\target}}
  & \bitbox[tb]{1}{\source}
  & \bitbox[tb]{1}{\source}
  & \bitbox[tb]{1}{\source}
  & \bitbox[tb]{1}{\source}
  & \bitbox[tb]{1}{\source}
  & \bitbox[tb]{1}{\source}
  & \bitbox[tb]{1}{\source}
  & \bitbox[tb]{1}{\source}
  & \bitbox[tb]{1}{\source}
  & \bitbox[tb]{1}{\source}
  & \bitbox[tbr]{1}{\source}

\end{bytefield}
\end{frame}

\begin{frame}[fragile]{Concurrent work}

Three concurrent workers mapping the \saw{} transformation on a shared array.

\bigskip

\begin{bytefield}[bitwidth=6mm, bitheight=8mm]{4}
 \\ \bitbox[]{1}{\alt<2>{\smiley}{}}
  & \bitbox[]{1}{\alt<3>{\smiley}{}}
  & \bitbox[]{1}{\alt<4>{\smiley}{}}
  & \bitbox[]{1}{\alt<5>{\smiley}{}}
  & \bitbox[]{1}{\alt<6>{\smiley}{}}
  & \bitbox[]{1}{\alt<7>{\smiley}{}}
  & \bitbox[]{1}{\alt<2>{\smiley}{\alt<8>{\scream}{}}}
  & \bitbox[]{1}{\alt<3>{\smiley}{}}
  & \bitbox[]{1}{\alt<4>{\smiley}{}}
  & \bitbox[]{1}{\alt<5>{\smiley}{}}
  & \bitbox[]{1}{\alt<6>{\smiley}{}}
  & \bitbox[]{1}{\alt<7>{\smiley}{}}
  & \bitbox[]{1}{\alt<2>{\smiley}{\alt<8>{\scream}{}}}
  & \bitbox[]{1}{\alt<3>{\smiley}{}}
  & \bitbox[]{1}{\alt<4>{\smiley}{}}
  & \bitbox[]{1}{\alt<5>{\smiley}{}}
  & \bitbox[]{1}{\alt<6>{\smiley}{}}
  & \bitbox[]{1}{\alt<7>{\smiley}{}}

 \\ \bitbox[tbl]{1}{\alt<1>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-2>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-3>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-4>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-5>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-6>{\source}{\target}}

  & \bitbox[tbl]{1}{\alt<1>{\source}{\alt<8>{\beyond}{\target}}}
  & \bitbox[tb]{1}{\alt<1-2>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-3>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-4>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-5>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-6>{\source}{\target}}

  & \bitbox[tbl]{1}{\alt<1>{\source}{\alt<8>{\beyond}{\target}}}
  & \bitbox[tb]{1}{\alt<1-2>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-3>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-4>{\source}{\target}}
  & \bitbox[tb]{1}{\alt<1-5>{\source}{\target}}
  & \bitbox[tbr]{1}{\alt<1-6>{\source}{\target}}
\end{bytefield}

\end{frame}

\end{document}
